/*
 * HEADER TRANSPARENT GLOBAL
 * Force un header invisible au chargement de la page et visible lors du défilement
 * Les boutons de navigation restent visibles en permanence
 * À inclure sur toutes les pages pour un comportement cohérent
 */

/* Définition par défaut du header - complètement invisible */
/* SPÉCIFICITÉ MAXIMALE POUR SURCHARGER TOUS LES AUTRES STYLES */
html body header,
html body .header,
body header,
body .header,
header,
.header {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    z-index: 9999 !important;
    background-color: transparent !important;
    box-shadow: none !important;
    transition: all 0.4s ease !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    /* Garantir la fluidité des transitions */
    -webkit-transform: translateZ(0);
    -moz-transform: translateZ(0);
    -ms-transform: translateZ(0);
    -o-transform: translateZ(0);
    transform: translateZ(0);
    will-change: background-color, box-shadow;
}

/* État lors du défilement - visible avec flou */
header.scrolled,
.header.scrolled {
    background-color: rgba(45, 45, 45, 0.95) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important; /* Support pour Safari */
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.25) !important;
    transition: all 0.3s ease-in-out !important;
}

/* S'assurer que les liens restent visibles même sur fond invisible */
header .main-nav a,
.header .main-nav a {
    color: white !important;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.8) !important;
    font-weight: 600 !important;
    transition: all 0.3s ease !important;
    position: relative !important;
    z-index: 10000 !important; /* S'assurer qu'ils sont toujours au-dessus */
}

/* État actif et hover sur fond transparent ou sur fond coloré */
header .main-nav a.active,
.header .main-nav a.active,
header .main-nav a:hover,
.header .main-nav a:hover {
    color: var(--primary-color) !important;
    text-shadow: 0 1px 5px rgba(0, 0, 0, 0.7) !important;
}

/* S'assurer que la classe scrolled est ajoutée/supprimée via JavaScript */
/* Le script responsive-enhancements.js doit être inclus sur toutes les pages */

/* Pour les boutons dans le header - assurer la visibilité sur fond transparent */
header .btn-primary,
.header .btn-primary {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4) !important;
    position: relative !important;
    z-index: 10000 !important; /* S'assurer qu'ils sont toujours au-dessus */
    transition: all 0.3s ease !important;
}

/* Garantir la visibilité du logo */
header .logo img,
.header .logo img {
    filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.5)) !important;
    position: relative !important;
    z-index: 10000 !important;
}

/* Garantir la visibilité du sélecteur de langue */
header .language-selector,
.header .language-selector {
    position: relative !important;
    z-index: 10000 !important;
}

/* Assurer une transition fluide de l'apparition/disparition */
@keyframes headerFadeIn {
    from { background-color: transparent; }
    to { background-color: rgba(45, 45, 45, 0.95); }
}

.header.scrolled {
    animation: headerFadeIn 0.3s ease-out forwards;
}
