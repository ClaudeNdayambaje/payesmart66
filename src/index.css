@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';
@import './styles/hero.css';
@import './styles/datepicker-dark.css';

/* Animation pour les notifications */
@keyframes fadeInOut {
  0% { opacity: 0; transform: translateY(-10px); }
  15% { opacity: 1; transform: translateY(0); }
  85% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-10px); }
}

:root {
  /* Thème par défaut (light) */
  --color-primary: #4f46e5;
  --color-primary-rgb: 79, 70, 229;
  --color-primary-hover: #4338ca;
  --color-primary-active: #3730a3;
  --color-primary-light: #818cf8;
  --color-primary-lightest: #c7d2fe;
  --color-primary-dark: #3730a3;
  --color-text-on-primary: #ffffff;
  
  --color-secondary: #10b981;
  --color-secondary-rgb: 16, 185, 129;
  --color-secondary-hover: #059669;
  --color-secondary-active: #047857;
  --color-secondary-light: #34d399;
  --color-secondary-lightest: #a7f3d0;
  
  --color-accent: #f59e0b;
  --color-accent-rgb: 245, 158, 11;
  --color-accent-light: #fbbf24;
  --color-accent-lightest: #fef3c7;
  
  --color-background: #ffffff;
  --color-background-rgb: 255, 255, 255;
  --color-background-alt: #f9fafb;
  --color-card-bg: #ffffff;
  
  --color-text: #1f2937;
  --color-text-rgb: 31, 41, 55;
  --color-text-secondary: rgba(31, 41, 55, 0.7);
  --color-text-tertiary: rgba(31, 41, 55, 0.5);
  
  --color-success: #10b981;
  --color-success-rgb: 16, 185, 129;
  --color-success-light: #34d399;
  --color-success-lightest: #a7f3d0;
  
  --color-warning: #f59e0b;
  --color-warning-rgb: 245, 158, 11;
  --color-warning-light: #fbbf24;
  --color-warning-lightest: #fef3c7;
  
  --color-error: #ef4444;
  --color-error-rgb: 239, 68, 68;
  
  --color-danger: #ef4444;
  --color-danger-rgb: 239, 68, 68;
  --color-danger-hover: #dc2626;
  --color-danger-light: #f87171;
  --color-danger-lightest: #fee2e2;
  
  --color-border: #e5e7eb;
  
  --color-sidebar-icon: #ffffff;
  --color-sidebar-icon-hover: #ffffff;
  
  /* Transition pour les changements de thème */
  --theme-transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

/* Styles globaux basés sur les variables de thème */
body {
  background-color: var(--color-background);
  color: var(--color-text);
  transition: var(--theme-transition);
}

/* Classe pour les éléments avec couleur primaire */
.theme-primary {
  background-color: var(--color-primary);
  color: var(--color-on-primary);
  transition: var(--theme-transition);
}

/* Motif de grille pour l'arrière-plan */
.bg-grid-pattern {
  background-image: 
    linear-gradient(to right, rgba(0, 0, 0, 0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
  background-size: 20px 20px;
}

/* Animations pour les éléments décoratifs */
@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
}

@keyframes float-delay {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-15px); }
  100% { transform: translateY(0px); }
}

/* Animations pour le modal de détails du produit */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideIn {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-float-delay {
  animation: float-delay 8s ease-in-out infinite;
}

.animate-fadeIn {
  animation: fadeIn 0.3s ease-out forwards;
}

.animate-slideIn {
  animation: slideIn 0.4s ease-out forwards;
}

.theme-primary-text {
  color: var(--color-primary);
  transition: var(--theme-transition);
}

/* Classe pour les éléments avec couleur secondaire */
.theme-secondary {
  background-color: var(--color-secondary);
  color: white;
  transition: var(--theme-transition);
}

.theme-secondary-text {
  color: var(--color-secondary);
  transition: var(--theme-transition);
}

/* Classe pour les éléments avec couleur d'accent */
.theme-accent {
  background-color: var(--color-accent);
  color: white;
  transition: var(--theme-transition);
}

.theme-accent-text {
  color: var(--color-accent);
  transition: var(--theme-transition);
}

/* Classes pour les états */
.theme-success {
  background-color: var(--color-success);
  color: white;
  transition: var(--theme-transition);
}

.theme-warning {
  background-color: var(--color-warning);
  color: white;
  transition: var(--theme-transition);
}

.theme-error {
  background-color: var(--color-error);
  color: white;
  transition: var(--theme-transition);
}

/* Mode sombre - Application FORCÉE sur tous les éléments importants */
.dark, body.dark, html.dark, html.dark *, body.dark *, .dark * {
  --color-primary: #6366f1;
  --color-primary-rgb: 99, 102, 241;
  --color-primary-dark: #3730a3;
  --color-on-primary: #fff;
  --color-secondary: var(--color-secondary-dark, #f6941c);
  --color-secondary-rgb: 246, 148, 28;
  --color-accent: #ec4899;
  --color-accent-rgb: 236, 72, 153;
  --color-background: #18181b;
  --color-background-rgb: 24, 24, 27;
  --color-text: #f3f4f6;
  --color-text-rgb: 243, 244, 246;
  --color-success: #10b981;
  --color-success-rgb: 16, 185, 129;
  --color-warning: #f59e0b;
  --color-warning-rgb: 245, 158, 11;
  --color-error: #ef4444;
  --color-error-rgb: 239, 68, 68;
}

/* Forcer l'application du mode sombre sur les conteneurs spécifiques */
.dark .content-background, 
.dark #main-content-area,
.dark [class*="card"],
.dark [class*="container"],
.dark [class*="page"],
.dark [class*="section"],
.dark [class*="panel"],
.dark [class*="history"],
.dark [class*="table"],
.dark [class*="form"] {
  background-color: var(--color-background) !important;
  color: var(--color-text) !important;
}

/* Forcer le mode sombre sur les éléments blancs */
html.dark [style*="background-color: white"],
body.dark [style*="background-color: white"],
.dark [style*="background-color: white"],
html.dark [style*="background-color: #fff"],
body.dark [style*="background-color: #fff"],
.dark [style*="background-color: #fff"],
html.dark [style*="background: white"],
body.dark [style*="background: white"],
.dark [style*="background: white"],
html.dark [style*="background: #fff"],
body.dark [style*="background: #fff"],
.dark [style*="background: #fff"] {
  background-color: var(--color-background) !important;
  color: var(--color-text) !important;
}

/* Classes utilitaires pour le mode sombre */
.dark .bg-primary, body.dark .bg-primary, html.dark .bg-primary {
  background-color: var(--color-primary) !important;
}

body.theme-dark .bg-secondary {
  background-color: var(--color-secondary) !important;
}

body.theme-dark .text-primary {
  color: var(--color-primary) !important;
}

body.theme-dark .text-secondary {
  color: var(--color-secondary) !important;
}

body.theme-dark .border-primary {
  border-color: var(--color-primary) !important;
}

body.theme-dark .border-secondary {
  border-color: var(--color-secondary) !important;
}

/* Thèmes de couleurs spécifiques */
body.theme-blue {
  --color-primary: #2563eb;
  --color-primary-rgb: 37, 99, 235;
  --color-secondary: #3b82f6;
  --color-secondary-rgb: 59, 130, 246;
  --color-accent: #60a5fa;
  --color-accent-rgb: 96, 165, 250;
  --color-background: #eff6ff;
  --color-background-rgb: 239, 246, 255;
  --color-text: #1e3a8a;
  --color-text-rgb: 30, 58, 138;
  --color-success: #10b981;
  --color-success-rgb: 16, 185, 129;
  --color-warning: #f59e0b;
  --color-warning-rgb: 245, 158, 11;
  --color-error: #ef4444;
  --color-error-rgb: 239, 68, 68;
}

body.theme-green {
  --color-primary: #059669;
  --color-primary-rgb: 5, 150, 105;
  --color-secondary: #10b981;
  --color-secondary-rgb: 16, 185, 129;
  --color-accent: #34d399;
  --color-accent-rgb: 52, 211, 153;
  --color-background: #ecfdf5;
  --color-background-rgb: 236, 253, 245;
  --color-text: #064e3b;
  --color-text-rgb: 6, 78, 59;
  --color-success: #10b981;
  --color-success-rgb: 16, 185, 129;
  --color-warning: #f59e0b;
  --color-warning-rgb: 245, 158, 11;
  --color-error: #ef4444;
  --color-error-rgb: 239, 68, 68;
}

body.theme-purple {
  --color-primary: #7c3aed;
  --color-primary-rgb: 124, 58, 237;
  --color-secondary: var(--color-secondary-dark, #f6941c);
  --color-secondary-rgb: 246, 148, 28;
  --color-accent: #a78bfa;
  --color-accent-rgb: 167, 139, 250;
  --color-background: #f5f3ff;
  --color-background-rgb: 245, 243, 255;
  --color-text: #4c1d95;
  --color-text-rgb: 76, 29, 149;
  --color-success: #10b981;
  --color-success-rgb: 16, 185, 129;
  --color-warning: #f59e0b;
  --color-warning-rgb: 245, 158, 11;
  --color-error: #ef4444;
  --color-error-rgb: 239, 68, 68;
}

body.theme-orange {
  --color-primary: #ea580c;
  --color-primary-rgb: 234, 88, 12;
  --color-secondary: #f97316;
  --color-secondary-rgb: 249, 115, 22;
  --color-accent: #fb923c;
  --color-accent-rgb: 251, 146, 60;
  --color-background: #fff7ed;
  --color-background-rgb: 255, 247, 237;
  --color-text: #7c2d12;
  --color-text-rgb: 124, 45, 18;
  --color-success: #10b981;
  --color-success-rgb: 16, 185, 129;
  --color-warning: #f59e0b;
  --color-warning-rgb: 245, 158, 11;
  --color-error: #ef4444;
  --color-error-rgb: 239, 68, 68;
}

/* Thème clair explicite */
body.theme-light {
  --color-primary: #3b82f6;
  --color-primary-rgb: 59, 130, 246;
  --color-secondary: #0ea5e9;
  --color-secondary-rgb: 14, 165, 233;
  --color-accent: #14b8a6;
  --color-accent-rgb: 20, 184, 166;
  --color-background: #f9fafb;
  --color-background-rgb: 249, 250, 251;
  --color-text: #111827;
  --color-text-rgb: 17, 24, 39;
  --color-success: #10b981;
  --color-success-rgb: 16, 185, 129;
  --color-warning: #f59e0b;
  --color-warning-rgb: 245, 158, 11;
  --color-error: #ef4444;
  --color-error-rgb: 239, 68, 68;
}

/* Styles globaux pour la responsivité */
@media (max-width: 768px) {
  html, body {
    font-size: 14px;
  }
  
  /* Amélioration de l'accessibilité sur mobile */
  input, button, select, textarea {
    font-size: 16px !important; /* Empêche le zoom automatique sur iOS */
  }
}

/* Styles spécifiques pour les très petits écrans */
@media (max-width: 380px) {
  html, body {
    font-size: 13px;
  }
}

/* Suppression du contour bleu par défaut sur tous les inputs */
input:focus, textarea:focus, select:focus {
  outline: none !important;
  box-shadow: 0 0 0 2px var(--color-primary) !important;
  border-color: var(--color-primary) !important;
}

/* Adaptation des formulaires et boutons au thème */
.btn {
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  font-weight: 500;
  transition: var(--theme-transition);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  cursor: pointer;
}

.btn-primary {
  background-color: var(--color-primary);
  color: var(--color-on-primary);
  border: 1px solid var(--color-primary);
}

.btn-primary:hover {
  background-color: color-mix(in srgb, var(--color-primary) 85%, black);
  border-color: color-mix(in srgb, var(--color-primary) 85%, black);
}

.btn-secondary {
  background-color: var(--color-secondary);
  color: white;
  border: 1px solid var(--color-secondary);
}

.btn-secondary:hover {
  background-color: color-mix(in srgb, var(--color-secondary) 85%, black);
  border-color: color-mix(in srgb, var(--color-secondary) 85%, black);
}

.btn-accent {
  background-color: var(--color-accent);
  color: white;
  border: 1px solid var(--color-accent);
}

.btn-accent:hover {
  background-color: color-mix(in srgb, var(--color-accent) 85%, black);
  border-color: color-mix(in srgb, var(--color-accent) 85%, black);
}

.btn-outline-primary {
  background-color: transparent;
  color: var(--color-primary);
  border: 1px solid var(--color-primary);
}

.btn-outline-primary:hover {
  background-color: var(--color-primary);
  color: var(--color-on-primary);
}

.btn-outline-secondary {
  background-color: transparent;
  color: var(--color-secondary);
  border: 1px solid var(--color-secondary);
}

.btn-outline-secondary:hover {
  background-color: var(--color-secondary);
  color: white;
}

/* Styles pour les formulaires */
.form-group {
  margin-bottom: 1rem;
}

.form-input {
  padding: 0.5rem 0.75rem;
  border-radius: 0.375rem;
  border: 1px solid rgba(var(--color-text-rgb), 0.2);
  background-color: var(--color-background);
  color: var(--color-text);
  transition: var(--theme-transition);
  width: 100%;
}

.form-input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);
}

.form-label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
  color: var(--color-text);
}

.form-select {
  padding: 0.5rem 2.5rem 0.5rem 0.75rem;
  border-radius: 0.375rem;
  border: 1px solid rgba(var(--color-text-rgb), 0.2);
  background-color: var(--color-background);
  color: var(--color-text);
  width: 100%;
  appearance: none;
  background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E");
  background-position: right 0.5rem center;
  background-repeat: no-repeat;
  background-size: 1.5em 1.5em;
  transition: var(--theme-transition);
}

.form-select:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);
}

.form-checkbox {
  width: 1rem;
  height: 1rem;
  color: var(--color-primary);
  border: 1px solid rgba(var(--color-text-rgb), 0.2);
  border-radius: 0.25rem;
  accent-color: var(--color-primary);
  transition: var(--theme-transition);
}

.form-checkbox:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);
}

.form-radio {
  width: 1rem;
  height: 1rem;
  color: var(--color-primary);
  border: 1px solid rgba(var(--color-text-rgb), 0.2);
  border-radius: 50%;
  accent-color: var(--color-primary);
  transition: var(--theme-transition);
}

.form-radio:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(var(--color-primary-rgb), 0.2);
}

/* Conteneurs de formulaire */
.form-group {
  margin-bottom: 1rem;
}

/* Modals */
.modal {
  background-color: var(--color-background);
  border-radius: 0.5rem;
  border: 1px solid rgba(var(--color-text-rgb), 0.1);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  color: var(--color-text);
  transition: var(--theme-transition);
}

.modal-header {
  border-bottom: 1px solid rgba(var(--color-text-rgb), 0.1);
  color: var(--color-text);
}

.modal-footer {
  border-top: 1px solid rgba(var(--color-text-rgb), 0.1);
}

/* Tables */
.table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}

.table th {
  font-weight: 600;
  text-align: left;
  color: var(--color-text);
  background-color: rgba(var(--color-text-rgb), 0.05);
  transition: var(--theme-transition);
}

.table td {
  color: var(--color-text);
  transition: var(--theme-transition);
}

.table th, .table td {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid rgba(var(--color-text-rgb), 0.1);
}

.table-hover tr:hover td {
  background-color: rgba(var(--color-primary-rgb), 0.05);
}
